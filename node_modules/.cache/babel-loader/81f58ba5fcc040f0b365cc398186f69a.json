{"ast":null,"code":"import \"antd/es/carousel/style\";\nimport _Carousel from \"antd/es/carousel\";\nimport \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport _extends from \"/Users/lifangzheng/WebstormProjects/SeeDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"/Users/lifangzheng/WebstormProjects/SeeDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"/Users/lifangzheng/WebstormProjects/SeeDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lifangzheng/WebstormProjects/SeeDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/lifangzheng/WebstormProjects/SeeDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lifangzheng/WebstormProjects/SeeDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lifangzheng/WebstormProjects/SeeDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/lifangzheng/WebstormProjects/SeeDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/lifangzheng/WebstormProjects/SeeDream/src/Concert/Feature8.jsx\";\nimport React from 'react';\nimport OverPack from 'rc-scroll-anim/lib/ScrollOverPack';\nimport QueueAnim from 'rc-queue-anim';\nimport { getChildrenToRender } from './utils';\n\nvar Feature8 = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Feature8, _React$PureComponent);\n\n  function Feature8(props) {\n    var _this;\n\n    _classCallCheck(this, Feature8);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Feature8).call(this, props));\n\n    _this.onTitleClick = function (_, i) {\n      var carouselRef = _this.carouselRef.current.childRefs.carousel;\n      carouselRef.goTo(i);\n    };\n\n    _this.onBeforeChange = function (_, newIndex) {\n      _this.setState({\n        current: newIndex\n      });\n    };\n\n    _this.getChildrenToRender = function (dataSource) {\n      var current = _this.state.current;\n      var Carousel = dataSource.Carousel,\n          buttonWrapper = dataSource.childWrapper;\n\n      var carouselChild = Carousel.children,\n          wrapper = Carousel.wrapper,\n          carouselProps = _objectWithoutProperties(Carousel, [\"children\", \"wrapper\"]);\n\n      var titleWrapper = carouselChild.titleWrapper,\n          childWrapper = carouselChild.children,\n          childrenProps = _objectWithoutProperties(carouselChild, [\"titleWrapper\", \"children\"]);\n\n      var barWrapper = titleWrapper.barWrapper,\n          titleChild = titleWrapper.title,\n          titleWrapperProps = _objectWithoutProperties(titleWrapper, [\"barWrapper\", \"title\"]);\n\n      var titleToRender = [];\n      var childrenToRender = childWrapper.map(function (item, ii) {\n        var title = item.title,\n            childRow = item.children,\n            rowProps = _objectWithoutProperties(item, [\"title\", \"children\"]);\n\n        if (childWrapper.length > 1) {\n          titleToRender.push( /*#__PURE__*/React.createElement(\"div\", Object.assign({}, title, {\n            key: ii.toString(),\n            onClick: function onClick(e) {\n              _this.onTitleClick(e, ii);\n            },\n            className: ii === current ? \"\".concat(title.className || '', \" active\") : title.className,\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 11\n            }\n          }), title.children));\n        }\n\n        var childrenItem = childRow.map(function ($item, i) {\n          var colChild = $item.children,\n              arrow = $item.arrow,\n              colProps = _objectWithoutProperties($item, [\"children\", \"arrow\"]);\n\n          var childProps = _extends({}, colChild);\n\n          return /*#__PURE__*/React.createElement(_Col, Object.assign({}, colProps, {\n            key: i.toString(),\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 11\n            }\n          }), /*#__PURE__*/React.createElement(\"div\", Object.assign({}, childProps, {\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 13\n            }\n          }), colChild.children.map(getChildrenToRender)), arrow && /*#__PURE__*/React.createElement(\"div\", Object.assign({}, arrow, {\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }\n          }), /*#__PURE__*/React.createElement(\"img\", {\n            src: arrow.children,\n            alt: \"img\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }\n          })));\n        });\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: ii.toString(),\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(QueueAnim, Object.assign({\n          component: _Row,\n          type: \"bottom\",\n          componentProps: {\n            type: 'flex'\n          }\n        }, rowProps, {\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 11\n          }\n        }), childrenItem));\n      });\n      return /*#__PURE__*/React.createElement(QueueAnim, Object.assign({\n        key: \"queue\",\n        type: \"bottom\",\n        ref: _this.carouselRef\n      }, childrenProps, {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 7\n        }\n      }), childWrapper.length > 1 && /*#__PURE__*/React.createElement(\"div\", Object.assign({}, titleWrapperProps, {\n        key: \"title\",\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", Object.assign({}, titleChild, {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }\n      }), titleToRender)), /*#__PURE__*/React.createElement(_Carousel, Object.assign({\n        key: \"carousel\"\n      }, carouselProps, {\n        infinite: false,\n        beforeChange: _this.onBeforeChange,\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }\n      }), childrenToRender), /*#__PURE__*/React.createElement(\"div\", Object.assign({\n        key: \"button\"\n      }, buttonWrapper, {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 9\n        }\n      }), buttonWrapper.children.map(getChildrenToRender)));\n    };\n\n    _this.carouselRef = React.createRef();\n    _this.state = {\n      current: 0\n    };\n    return _this;\n  }\n\n  _createClass(Feature8, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          dataSource = _this$props.dataSource,\n          isMobile = _this$props.isMobile,\n          props = _objectWithoutProperties(_this$props, [\"dataSource\", \"isMobile\"]);\n\n      var titleWrapper = dataSource.titleWrapper;\n      return /*#__PURE__*/React.createElement(\"div\", Object.assign({}, props, dataSource.wrapper, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", Object.assign({}, dataSource.page, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", Object.assign({}, dataSource.titleWrapper, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }\n      }), titleWrapper.children.map(getChildrenToRender)), /*#__PURE__*/React.createElement(OverPack, Object.assign({}, dataSource.OverPack, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }\n      }), this.getChildrenToRender(dataSource))));\n    }\n  }]);\n\n  return Feature8;\n}(React.PureComponent);\n\nexport default Feature8;","map":{"version":3,"sources":["/Users/lifangzheng/WebstormProjects/SeeDream/src/Concert/Feature8.jsx"],"names":["React","OverPack","QueueAnim","getChildrenToRender","Feature8","props","onTitleClick","_","i","carouselRef","current","childRefs","carousel","goTo","onBeforeChange","newIndex","setState","dataSource","state","Carousel","buttonWrapper","childWrapper","carouselChild","children","wrapper","carouselProps","titleWrapper","childrenProps","barWrapper","titleChild","title","titleWrapperProps","titleToRender","childrenToRender","map","item","ii","childRow","rowProps","length","push","toString","e","className","childrenItem","$item","colChild","arrow","colProps","childProps","type","createRef","isMobile","page","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react';\nimport OverPack from 'rc-scroll-anim/lib/ScrollOverPack';\nimport QueueAnim from 'rc-queue-anim';\nimport { Carousel as AntCarousel, Row, Col } from 'antd';\nimport { getChildrenToRender } from './utils';\n\nclass Feature8 extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.carouselRef = React.createRef();\n    this.state = {\n      current: 0,\n    };\n  }\n\n  onTitleClick = (_, i) => {\n    const carouselRef = this.carouselRef.current.childRefs.carousel;\n    carouselRef.goTo(i);\n  };\n\n  onBeforeChange = (_, newIndex) => {\n    this.setState({\n      current: newIndex,\n    });\n  };\n\n  getChildrenToRender = (dataSource) => {\n    const { current } = this.state;\n    const { Carousel, childWrapper: buttonWrapper } = dataSource;\n    const { children: carouselChild, wrapper, ...carouselProps } = Carousel;\n    const {\n      titleWrapper,\n      children: childWrapper,\n      ...childrenProps\n    } = carouselChild;\n\n    const {\n      barWrapper,\n      title: titleChild,\n      ...titleWrapperProps\n    } = titleWrapper;\n    const titleToRender = [];\n\n    const childrenToRender = childWrapper.map((item, ii) => {\n      const { title, children: childRow, ...rowProps } = item;\n      if (childWrapper.length > 1) {\n        titleToRender.push(\n          <div\n            {...title}\n            key={ii.toString()}\n            onClick={(e) => {\n              this.onTitleClick(e, ii);\n            }}\n            className={\n              ii === current\n                ? `${title.className || ''} active`\n                : title.className\n            }\n          >\n            {title.children}\n          </div>\n        );\n      }\n      const childrenItem = childRow.map(($item, i) => {\n        const { children: colChild, arrow, ...colProps } = $item;\n        const { ...childProps } = colChild;\n        return (\n          <Col {...colProps} key={i.toString()}>\n            <div {...childProps}>\n              {colChild.children.map(getChildrenToRender)}\n            </div>\n            {arrow && (\n              <div {...arrow}>\n                <img src={arrow.children} alt=\"img\" />\n              </div>\n            )}\n          </Col>\n        );\n      });\n\n      return (\n        <div key={ii.toString()}>\n          <QueueAnim\n            component={Row}\n            type=\"bottom\"\n            componentProps={{ type: 'flex' }}\n            {...rowProps}\n          >\n            {childrenItem}\n          </QueueAnim>\n        </div>\n      );\n    });\n\n    return (\n      <QueueAnim\n        key=\"queue\"\n        type=\"bottom\"\n        ref={this.carouselRef}\n        {...childrenProps}\n      >\n        {childWrapper.length > 1 && (\n          <div {...titleWrapperProps} key=\"title\">\n            <div {...titleChild}>{titleToRender}</div>\n          </div>\n        )}\n        <AntCarousel\n          key=\"carousel\"\n          {...carouselProps}\n          infinite={false}\n          beforeChange={this.onBeforeChange}\n        >\n          {childrenToRender}\n        </AntCarousel>\n        <div key=\"button\" {...buttonWrapper}>\n          {buttonWrapper.children.map(getChildrenToRender)}\n        </div>\n      </QueueAnim>\n    );\n  };\n\n  render() {\n    const { dataSource, isMobile, ...props } = this.props;\n    const { titleWrapper } = dataSource;\n    return (\n      <div {...props} {...dataSource.wrapper}>\n        <div {...dataSource.page}>\n          <div {...dataSource.titleWrapper}>\n            {titleWrapper.children.map(getChildrenToRender)}\n          </div>\n          <OverPack {...dataSource.OverPack}>\n            {this.getChildrenToRender(dataSource)}\n          </OverPack>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Feature8;\n"]},"metadata":{},"sourceType":"module"}