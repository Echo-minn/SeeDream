{"ast":null,"code":"import \"antd/es/table/style\";\nimport _Table from \"antd/es/table\";\nimport _objectSpread from \"/Users/lifangzheng/WebstormProjects/SeeDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _objectWithoutProperties from \"/Users/lifangzheng/WebstormProjects/SeeDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"/Users/lifangzheng/WebstormProjects/SeeDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lifangzheng/WebstormProjects/SeeDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/lifangzheng/WebstormProjects/SeeDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lifangzheng/WebstormProjects/SeeDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lifangzheng/WebstormProjects/SeeDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/lifangzheng/WebstormProjects/SeeDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/lifangzheng/WebstormProjects/SeeDream/src/keepAlive/Pricing2.jsx\";\nimport React from 'react';\nimport OverPack from 'rc-scroll-anim/lib/ScrollOverPack';\nimport QueueAnim from 'rc-queue-anim';\nimport { getChildrenToRender, isImg } from './utils';\n\nvar Pricing2 = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Pricing2, _React$PureComponent);\n\n  function Pricing2() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Pricing2);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Pricing2)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.getColumns = function (columns) {\n      return columns.map(function (item) {\n        var childWrapper = item.childWrapper,\n            $item = _objectWithoutProperties(item, [\"childWrapper\"]);\n\n        return _objectSpread({\n          align: 'center'\n        }, $item, {\n          title: /*#__PURE__*/React.createElement(\"div\", Object.assign({}, childWrapper, {\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 15,\n              columnNumber: 11\n            }\n          }), childWrapper.children.map(getChildrenToRender))\n        });\n      });\n    };\n\n    _this.getDataSource = function (dataSource, columns) {\n      return dataSource.map(function (item, i) {\n        var obj = {\n          key: i.toString()\n        };\n        item.children.forEach(function ($item, ii) {\n          if (columns[ii]) {\n            obj[columns[ii].key] = /*#__PURE__*/React.createElement(\"div\", Object.assign({}, $item, {\n              __self: _assertThisInitialized(_assertThisInitialized(_this)),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 29,\n                columnNumber: 13\n              }\n            }), typeof $item.children === 'string' && $item.children.match(isImg) ? /*#__PURE__*/React.createElement(\"img\", {\n              src: $item.children,\n              alt: \"img\",\n              __self: _assertThisInitialized(_assertThisInitialized(_this)),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 32,\n                columnNumber: 17\n              }\n            }) : $item.children);\n          }\n        });\n        return obj;\n      });\n    };\n\n    _this.getMobileChild = function (table) {\n      var columns = table.columns,\n          dataSource = table.dataSource,\n          tableProps = _objectWithoutProperties(table, [\"columns\", \"dataSource\"]);\n\n      var names = columns.children.filter(function (item) {\n        return item.key.indexOf('name') >= 0;\n      });\n      var newColumns = columns.children.filter(function (item) {\n        return item.key.indexOf('name') === -1;\n      });\n      return newColumns.map(function (item, i) {\n        var items = [].concat(names[0], item).filter(function (c) {\n          return c;\n        });\n\n        if (items.length > 1) {\n          items[0].colSpan = 0;\n          items[1].colSpan = 2;\n        }\n\n        var dataSources = dataSource.children.map(function ($item) {\n          var child = $item.children.filter(function (c) {\n            return c.name.indexOf('name') === -1;\n          });\n          var n = $item.children.filter(function (c) {\n            return c.name.indexOf('name') >= 0;\n          });\n          return _objectSpread({}, $item, {\n            children: [].concat(n[0], child[i]).filter(function (c) {\n              return c;\n            })\n          });\n        });\n\n        var props = _objectSpread({}, tableProps, {\n          columns: _this.getColumns(items),\n          dataSource: _this.getDataSource(dataSources, items)\n        });\n\n        return /*#__PURE__*/React.createElement(_Table, Object.assign({\n          key: i.toString()\n        }, props, {\n          pagination: false,\n          bordered: true,\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 9\n          }\n        }));\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Pricing2, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          dataSource = _this$props.dataSource,\n          isMobile = _this$props.isMobile,\n          props = _objectWithoutProperties(_this$props, [\"dataSource\", \"isMobile\"]);\n\n      var table = dataSource.Table,\n          wrapper = dataSource.wrapper,\n          page = dataSource.page,\n          titleWrapper = dataSource.titleWrapper;\n\n      var columns = table.columns,\n          tableData = table.dataSource,\n          $table = _objectWithoutProperties(table, [\"columns\", \"dataSource\"]);\n\n      var tableProps = _objectSpread({}, $table, {\n        columns: this.getColumns(columns.children),\n        dataSource: this.getDataSource(tableData.children, columns.children)\n      });\n\n      var childrenToRender = isMobile ? this.getMobileChild(table) : /*#__PURE__*/React.createElement(_Table, Object.assign({\n        key: \"table\"\n      }, tableProps, {\n        pagination: false,\n        bordered: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 7\n        }\n      }));\n      return /*#__PURE__*/React.createElement(\"div\", Object.assign({}, props, wrapper, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", Object.assign({}, page, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", Object.assign({\n        key: \"title\"\n      }, titleWrapper, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }\n      }), titleWrapper.children.map(getChildrenToRender)), /*#__PURE__*/React.createElement(OverPack, Object.assign({}, dataSource.OverPack, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(QueueAnim, {\n        type: \"bottom\",\n        leaveReverse: true,\n        ease: ['easeOutQuad', 'easeInOutQuad'],\n        key: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }\n      }, childrenToRender))));\n    }\n  }]);\n\n  return Pricing2;\n}(React.PureComponent);\n\nexport default Pricing2;","map":{"version":3,"sources":["/Users/lifangzheng/WebstormProjects/SeeDream/src/keepAlive/Pricing2.jsx"],"names":["React","OverPack","QueueAnim","getChildrenToRender","isImg","Pricing2","getColumns","columns","map","item","childWrapper","$item","align","title","children","getDataSource","dataSource","i","obj","key","toString","forEach","ii","match","getMobileChild","table","tableProps","names","filter","indexOf","newColumns","items","concat","c","length","colSpan","dataSources","child","name","n","props","isMobile","Table","wrapper","page","titleWrapper","tableData","$table","childrenToRender","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react';\nimport OverPack from 'rc-scroll-anim/lib/ScrollOverPack';\nimport QueueAnim from 'rc-queue-anim';\nimport { Table } from 'antd';\nimport { getChildrenToRender, isImg } from './utils';\n\nclass Pricing2 extends React.PureComponent {\n  getColumns = (columns) => {\n    return columns.map((item) => {\n      const { childWrapper, ...$item } = item;\n      return {\n        align: 'center',\n        ...$item,\n        title: (\n          <div {...childWrapper}>\n            {childWrapper.children.map(getChildrenToRender)}\n          </div>\n        ),\n      };\n    });\n  };\n\n  getDataSource = (dataSource, columns) =>\n    dataSource.map((item, i) => {\n      const obj = { key: i.toString() };\n      item.children.forEach(($item, ii) => {\n        if (columns[ii]) {\n          obj[columns[ii].key] = (\n            <div {...$item}>\n              {typeof $item.children === 'string' &&\n              $item.children.match(isImg) ? (\n                <img src={$item.children} alt=\"img\" />\n              ) : (\n                $item.children\n              )}\n            </div>\n          );\n        }\n      });\n      return obj;\n    });\n\n  getMobileChild = (table) => {\n    const { columns, dataSource, ...tableProps } = table;\n    const names = columns.children.filter(\n      (item) => item.key.indexOf('name') >= 0\n    );\n    const newColumns = columns.children.filter(\n      (item) => item.key.indexOf('name') === -1\n    );\n    return newColumns.map((item, i) => {\n      const items = [].concat(names[0], item).filter((c) => c);\n      if (items.length > 1) {\n        items[0].colSpan = 0;\n        items[1].colSpan = 2;\n      }\n      const dataSources = dataSource.children.map(($item) => {\n        const child = $item.children.filter(\n          (c) => c.name.indexOf('name') === -1\n        );\n        const n = $item.children.filter((c) => c.name.indexOf('name') >= 0);\n        return {\n          ...$item,\n          children: [].concat(n[0], child[i]).filter((c) => c),\n        };\n      });\n      const props = {\n        ...tableProps,\n        columns: this.getColumns(items),\n        dataSource: this.getDataSource(dataSources, items),\n      };\n      return (\n        <Table key={i.toString()} {...props} pagination={false} bordered />\n      );\n    });\n  };\n\n  render() {\n    const { dataSource, isMobile, ...props } = this.props;\n    const { Table: table, wrapper, page, titleWrapper } = dataSource;\n    const { columns, dataSource: tableData, ...$table } = table;\n    const tableProps = {\n      ...$table,\n      columns: this.getColumns(columns.children),\n      dataSource: this.getDataSource(tableData.children, columns.children),\n    };\n    const childrenToRender = isMobile ? (\n      this.getMobileChild(table)\n    ) : (\n      <Table key=\"table\" {...tableProps} pagination={false} bordered />\n    );\n    return (\n      <div {...props} {...wrapper}>\n        <div {...page}>\n          <div key=\"title\" {...titleWrapper}>\n            {titleWrapper.children.map(getChildrenToRender)}\n          </div>\n          <OverPack {...dataSource.OverPack}>\n            <QueueAnim\n              type=\"bottom\"\n              leaveReverse\n              ease={['easeOutQuad', 'easeInOutQuad']}\n              key=\"content\"\n            >\n              {childrenToRender}\n            </QueueAnim>\n          </OverPack>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Pricing2;\n"]},"metadata":{},"sourceType":"module"}